{% extends "en-us/management/base.html" %}
{% load static %}

<!-- title -->
{% block title %}
<title>
    TOVANA HEALTH manager | home
</title>
{% endblock %}

<!-- header -->
{% block page_header %}
<div class="row align-items-end">
  <div class="col-sm mb-2 mb-sm-0">
    <nav aria-label="breadcrumb">
      <ol class="breadcrumb breadcrumb-no-gutter">
        <li class="breadcrumb-item active" aria-current="page">Content</li>
      </ol>
    </nav>

    <h1 class="page-header-title">Content manager</h1>
  </div>

  <div class="col-sm-auto">
    <a class="btn btn-light" href="{% url 'home' %}">
      <i class="bi-eye-fill me-1"></i> View Landing Page
    </a>
  </div>
</div>
{% endblock %}

<!-- sub tab nav -->
{% block sub_tab_nav %}
<div class="text-center">
  <ul class="nav nav-segment nav-pills mb-7" role="tablist">
    <li class="nav-item">
      <a class="nav-link {% if tab == 'slides' %} active {% endif %}" id="slides_nav" href="#slides_tab" data-bs-toggle="pill" data-bs-target="#slides_tab" role="tab" aria-controls="slides_tab">Slides</a>
    </li>
    <li class="nav-item">
      <a class="nav-link {% if tab == 'intro' %} active {% endif %}" id="intro_nav" href="#intro_tab" data-bs-toggle="pill" data-bs-target="#intro_tab" role="tab" aria-controls="intro_tab">Intro</a>
    </li>
    <li class="nav-item">
      <a class="nav-link {% if tab == 'how_it_works' %} active {% endif %}" id="how_it_works_nav" href="#how_it_works_tab" data-bs-toggle="pill" data-bs-target="#how_it_works_tab" role="tab" aria-controls="how_it_works_tab">How It Works</a>
    </li>
    <li class="nav-item">
      <a class="nav-link {% if tab == 'home_page_FAQ' %} active {% endif %}" id="home_page_FAQ_nav" href="#home_page_FAQ_tab" data-bs-toggle="pill" data-bs-target="#home_page_FAQ_tab" role="tab" aria-controls="home_page_FAQ_tab">Home Page FAQ</a>
    </li>
  </ul>
</div>
{% endblock %}

<!-- sub tab content -->
{% block sub_tab_content %}
<div class="tab-content">
  <div class="tab-pane fade {% if tab == 'slides' %} show active {% endif %}" id="slides_tab" role="tabpanel" aria-labelledby="slides_nav">
    <!-- title -->
    <div class="row align-items-center mb-4">
      <div class="col-sm mb-2 mb-sm-0">
        <p class="page-header-title">You have {{ slides.count }} slides</p>
      </div>

      <div class="col-sm-auto">
        <button class="btn btn-primary btn-sm" data-bs-toggle="modal" data-bs-target="#create_new_slide">
          <i class="bi bi-plus-lg me-1"></i> Create a new slide
        </button>
      </div>
    </div>
    <!-- end title -->

    <!-- slides -->
    {% if slides.count %}
    {% for slide in slides %}
    <div class="card mb-4">
      <div class="card-body">
        <form action="{% url 'content-manager' 'delete_slide' %}" id="delete_slide_{{ slide.id }}" method="post">
          {% csrf_token %}
          <input type="hidden" name="slide_id" value={{slide.id}}>
        </form>
        <form action="{% url 'content-manager' 'edit_slide' %}" id="edit_slide_{{ slide.id }}" class="js-validate need-validate" novalidate method="post" enctype="multipart/form-data">
          {% csrf_token %}
          <input type="hidden" name="slide_id" value={{slide.id}}>

          <div class="row col-sm-divider mb-3">
            <div class="col-sm text-end">
              <!-- title -->
              <div class="input-group input-group-borderless mb-2">
                <input type="text" class="form-control" name="title" value="{{slide.title}}">
              </div>
              <!-- end title -->

              <!-- content -->
              <div class="input-group input-group-borderless mb-2">
                <textarea class="form-control" name="content" placeholder="{{ slide.content }}" rows="4"></textarea>
              </div>
              <!-- end content -->
            </div>

            <div class="col-sm text-center">
              <!-- input image -->
              <label class="avatar avatar-xxl avatar-uploader" for="editAvatarUploaderModal_{{slide.id}}" style="height: 100%;width: 100%;">
                <img id="editAvatarImgModal_{{slide.id}}" class="avatar-img" src="{% get_media_prefix %}{{ slide.image }}" alt="Image Description" style="width: 60%;">

                <input type="file" class="js-file-attach avatar-uploader-input" name="image" id="editAvatarUploaderModal_{{slide.id}}" data-hs-file-attach-options='{
                            "textTarget": "#editAvatarImgModal_{{slide.id}}",
                            "mode": "image",
                            "targetAttr": "src",
                            "allowTypes": [".png", ".jpeg", ".jpg"]
                         }'>
                <span class="avatar-uploader-trigger">
                  <i class="bi-pencil-fill avatar-uploader-icon shadow-sm"></i>
                </span>
              </label>
              <!-- end input image -->
            </div>
          </div>
        </form>

        <!-- submit -->
        <div class="text-center mt-2 mb-2">
          <button type="button" class="btn btn-white form-control-sm" data-bs-toggle="modal" data-bs-target="#edit_slide_modal_{{ slide.id }}">
            <i class="bi bi-arrow-clockwise" data-bs-toggle="tooltip" data-bs-placement="top" title="Refresh"></i>
          </button>

          <button type="button" class="btn btn-white form-control-sm" data-bs-toggle="modal" data-bs-target="#delete_slide_modal_{{ slide.id }}">
            <i class="bi bi-trash" data-bs-toggle="tooltip" data-bs-placement="top" title="Delete"></i>
          </button>
        </div>
        <!-- end submit -->

        <!-- edit slide modal -->
        <div id="edit_slide_modal_{{ slide.id }}" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="edit_slide_modal_title_{{ slide.id }}" aria-hidden="true">
          <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">
              <div class="modal-header">
                <h5 class="modal-title" id="edit_slide_modal_title_{{ slide.id }}"></h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
              </div>
              <div class="modal-body text-center">
                <p>Editing {{ slide.title }} click yes to confirm.</p>
              </div>
              <div class="modal-footer" style="align-self: center;">
                <button type="button" class="btn btn-white" data-bs-dismiss="modal">Close</button>
                <button class="btn btn-primary" form="edit_slide_{{ slide.id }}">Yes</button>
              </div>
            </div>
          </div>
        </div>
        <!-- end edit slide modal -->

        <!-- delete slide modal -->
        <div id="delete_slide_modal_{{ slide.id }}" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="delete_slide_modal_title_{{ slide.id }}" aria-hidden="true">
          <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">
              <div class="modal-header">
                <h5 class="modal-title" id="delete_slide_modal_title_{{ slide.id }}"></h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
              </div>
              <div class="modal-body text-center">
                <p>Delete {{ slide.title }} click yes to confirm.</p>
              </div>
              <div class="modal-footer" style="align-self: center;">
                <button type="button" class="btn btn-white" data-bs-dismiss="modal">Close</button>
                <button class="btn btn-primary" form="delete_slide_{{ slide.id }}">Yes</button>
              </div>
            </div>
          </div>
        </div>
        <!-- end delete slide modal -->
      </div>
    </div>
    {% endfor %}
    {% endif %}
    <!-- end slides -->
  </div>

  <div class="tab-pane fade {% if tab == 'intro' %} show active {% endif %}" id="intro_tab" role="tabpanel" aria-labelledby="intro_nav">
    <!-- intro content -->
    <form action="{% url 'content-manager' 'edit_intro_content' %}" id="edit_intro_content_form" class="js-validate need-validate" novalidate method="post" enctype="multipart/form-data">
      {% csrf_token %}
        <div class="row text-center">
          <!-- input image -->
          <label class="avatar avatar-xxl avatar-uploader" for="editAvatarUploaderModal_intro_image" style="height: 100%;width: 100%;">
            <img id="editAvatarImgModal_intro_image" class="avatar-img" src="{% get_media_prefix %}{{ content.intro_image }}" alt="Image Description" style="width: 20%;" data-bs-toggle="tooltip" data-bs-placement="top" title="Click to choose new image and don't forget to refresh">

            <input type="file" class="js-file-attach avatar-uploader-input" name="intro_image" id="editAvatarUploaderModal_intro_image" data-hs-file-attach-options='{
                        "textTarget": "#editAvatarImgModal_intro_image",
                        "mode": "image",
                        "targetAttr": "src",
                        "allowTypes": [".png", ".jpeg", ".jpg"]
                     }'>
          </label>
          <!-- end input image -->
        </div>

        <div class="row text-center">
          <!-- title -->
          <div class="input-group input-group-borderless mb-2" data-bs-toggle="tooltip" data-bs-placement="left" title="Modify content and don't forget to refresh">
            <input type="text" class="form-control" name="content_intro_title" value="{{ content.intro_title }}">
          </div>
          <!-- end title -->

          <!-- sub title -->
          <div class="input-group input-group-borderless mb-2" data-bs-toggle="tooltip" data-bs-placement="left" title="Modify content and don't forget to refresh">
            <input type="text" class="form-control" name="content_intro_sub_title" value="{{ content.intro_sub_title }}">
          </div>
          <!-- end sub title -->
        </div>
    </form>
    <!-- end intro content -->

    <!-- submit -->
    <div class="text-center mt-2 mb-10">
      <button type="button" class="btn btn-white form-control-sm" data-bs-toggle="modal" data-bs-target="#edit_intro_content_modal">
        <i class="" data-bs-toggle="tooltip" data-bs-placement="top" title="Refresh">Title & Image</i>
      </button>
    </div>
    <!-- end submit -->

    <!-- intro lines -->
    <div class="row align-items-center mb-4">
      {% if intro_lines.count %}
      {% for intro_line in intro_lines %}
      <div class="row">
        <div class="col-sm mb-1 mb-sm-0">
          <form action="{% url 'content-manager' 'edit_intro_line' %}" id="edit_intro_line_{{ intro_line.id }}" class="js-validate need-validate" novalidate method="post">
            {% csrf_token %}
            <input type="hidden" name="intro_line_id" value={{intro_line.id}}>

            <div class="row col-sm-divider mb-2">
              <div class="col-sm text-end">
                <div class="input-group input-group-borderless mb-2">
                  <input type="text" class="form-control" name="intro_line" value="{{ intro_line.content }}">
                </div>
              </div>
            </div>
          </form>
          <form action="{% url 'content-manager' 'delete_intro_line' %}" id="delete_intro_line_{{ intro_line.id }}" class="js-validate need-validate" novalidate method="post">
            {% csrf_token %}
            <input type="hidden" name="intro_line_id" value={{intro_line.id}}>
          </form>
        </div>
        <div class="col-sm-auto">
          <button form="delete_intro_line_{{ intro_line.id }}" class="btn btn-white form-control-sm">
            <i class="bi bi-trash" data-bs-toggle="tooltip" data-bs-placement="top" title="Delete"></i>
          </button>
          <button form="edit_intro_line_{{ intro_line.id }}" class="btn btn-white form-control-sm">
            <i class="bi bi-arrow-clockwise" data-bs-toggle="tooltip" data-bs-placement="top" title="Refresh"></i>
          </button>
        </div>
      </div>
      {% endfor %}
      <div class="row">
        <div class="col-sm mb-2 mb-sm-0">
          <form action="{% url 'content-manager' 'create_new_intro_line' %}" id="create_new_intro_line" class="js-validate need-validate" novalidate method="post">
            {% csrf_token %}
            <input type="hidden" name="intro_line_id" value={{intro_line.id}}>

            <div class="row col-sm-divider mb-2">
              <div class="col-sm text-end">
                <div class="input-group input-group-borderless mb-2">
                  <input type="text" class="form-control" name="intro_line" placeholder="add new line here">
                </div>
              </div>
            </div>
          </form>
        </div>
        <div class="col-sm-auto">
          <button form="create_new_intro_line" class="btn btn-white form-control-sm">
            <i class="bi bi-plus-lg" data-bs-toggle="tooltip" data-bs-placement="top" title="Add"></i>
          </button>
        </div>
      </div>
      {% else %}
      <div class="row">
        <div class="col-sm mb-2 mb-sm-0">
          <form action="{% url 'content-manager' 'create_new_intro_line' %}" id="create_first_intro_line" class="js-validate need-validate" novalidate method="post">
            {% csrf_token %}

            <div class="row col-sm-divider mb-2">
              <div class="col-sm text-end">
                <div class="input-group input-group-borderless mb-2">
                  <input type="text" class="form-control" name="intro_line" placeholder="create the first intro line here">
                </div>
              </div>
            </div>
          </form>
        </div>
        <div class="col-sm-auto">
          <button form="create_first_intro_line" class="btn btn-white form-control-sm">
            <i class="bi bi-plus-lg" data-bs-toggle="tooltip" data-bs-placement="top" title="Add"></i>
          </button>
        </div>
      </div>
      {% endif %}
    </div>
    <!-- end intro lines -->

    <!-- intro thumbs -->
    <div class="container">
      <div class="row align-items-start">
        {% if intro_thumbs.count %}
        {% for intro_thumb in intro_thumbs %}
        <div class="col">
          <form action="{% url 'content-manager' 'delete_intro_thumb' %}" id="delete_intro_thumb_{{ intro_thumb.id }}" method="post">
            {% csrf_token %}
            <input type="hidden" name="intro_thumb_id" value={{intro_thumb.id}}>
          </form>

          <span class="avatar avatar-xxl avatar-4x3 text-center mb-4">
            <img class="avatar-img" src="{% get_media_prefix %}{{ intro_thumb.image }}">
            <div class="mt-2">{{ intro_thumb.title }}</div>
            <button class="btn btn-white form-control-lg" form="delete_intro_thumb_{{ intro_thumb.id }}">
              <i class="bi bi-trash" data-bs-toggle="tooltip" data-bs-placement="top" title="Delete"></i>
            </button>
          </span>
        </div>
        {% endfor %}
        {% endif %}
        <div class="col">
          <span class="avatar avatar-xxl avatar-4x3 text-center mb-4">
            <form action="{% url 'content-manager' 'create_intro_thumb' %}" id="edit_intro_thumb_{{ intro_thumb.id }}" class="js-validate need-validate" novalidate method="post" enctype="multipart/form-data">
              {% csrf_token %}
              <div class="col-sm text-center">
                <!-- input image -->
                <label class="avatar avatar-xxl avatar-uploader" for="editAvatarUploaderModal_{{slide.id}}">
                <img id="editAvatarImgModal_{{intro_thumb.id}}" class="avatar-img" src="{% static 'landing_page/tovana_img/img_download.png' %}">

                <input type="file" class="js-file-attach avatar-uploader-input" name="image" id="editAvatarUploaderModal_{{intro_thumb.id}}" data-hs-file-attach-options='{
                            "textTarget": "#editAvatarImgModal_{{intro_thumb.id}}",
                            "mode": "image",
                            "targetAttr": "src",
                            "allowTypes": [".png", ".jpeg", ".jpg"]
                         }' required>
                <span class="invalid-feedback text-center">Please upload an image.</span>
              </label>
                <!-- end input image -->
                <!-- title -->
                <div class="input-group mb-2">
                  <input type="text" class="form-control" name="title" placeholder="Nutrition & Diet" required>
                  <span class="invalid-feedback text-center">Title required.</span>
                </div>
                <!-- end title -->
                <button type="submit" class="btn btn-white form-control-sm" >
                  <i class="bi bi-plus-lg" data-bs-toggle="tooltip" data-bs-placement="top" title="Add"></i>
                </button>
              </div>
            </form>
          </span>
        </div>
      </div>
    </div>
    <!-- end intro thumbs -->

    <!-- edit intro content modal -->
    <div id="edit_intro_content_modal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="edit_intro_content_modal_title" aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="edit_intro_content_modal_title"></h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body text-center">
            <p>Editing {{ slide.title }} click yes to confirm.</p>
          </div>
          <div class="modal-footer" style="align-self: center;">
            <button type="button" class="btn btn-white" data-bs-dismiss="modal">Close</button>
            <button class="btn btn-primary" form="edit_intro_content_form">Yes</button>
          </div>
        </div>
      </div>
    </div>
    <!-- end edit intro content modal -->
  </div>

  <div class="tab-pane fade {% if tab == 'how_it_works' %} show active {% endif %}" id="how_it_works_tab" role="tabpanel" aria-labelledby="how_it_works_nav">
    <!-- how it works content -->
    <form action="{% url 'content-manager' 'edit_how_it_works_content' %}" id="edit_how_it_works_content_form" class="js-validate need-validate" novalidate method="post" enctype="multipart/form-data">
      {% csrf_token %}
        <div class="row text-center">
          <!-- input image -->
          <label class="avatar avatar-xxl avatar-uploader" for="editAvatarUploaderModal_how_it_works_image" style="height: 100%;width: 100%;">
            <img id="editAvatarImgModal_how_it_works_image" class="avatar-img" src="{% get_media_prefix %}{{ content.how_it_works_image }}" alt="Image Description" style="width: 20%;" data-bs-toggle="tooltip" data-bs-placement="top" title="Click to choose new image and don't forget to refresh">

            <input type="file" class="js-file-attach avatar-uploader-input" name="how_it_works_image" id="editAvatarUploaderModal_how_it_works_image" data-hs-file-attach-options='{
                        "textTarget": "#editAvatarImgModal_how_it_works_image",
                        "mode": "image",
                        "targetAttr": "src",
                        "maxFileSize": "2048",
                        "allowTypes": [".png", ".jpeg", ".jpg", ".gif"]
                     }'>
          </label>
          <!-- end input image -->
        </div>

        <div class="row text-center">
          <!-- title -->
          <div class="input-group input-group-borderless mb-2" data-bs-toggle="tooltip" data-bs-placement="left" title="Modify content and don't forget to refresh">
            <input type="text" class="form-control" name="how_it_works_title" value="{{ content.how_it_works_title }}">
          </div>
          <!-- end title -->

          <!-- sub title -->
          <div class="input-group input-group-borderless mb-2" data-bs-toggle="tooltip" data-bs-placement="left" title="Modify content and don't forget to refresh">
            <input type="text" class="form-control" name="how_it_works_sub_title" value="{{ content.how_it_works_sub_title }}">
          </div>
          <!-- end sub title -->
        </div>
    </form>
    <!-- end how it works content -->

    <!-- submit -->
    <div class="text-center mt-2 mb-10">
      <button type="button" class="btn btn-white form-control-sm" data-bs-toggle="modal" data-bs-target="#edit_how_it_works_content_modal">
        <i class="" data-bs-toggle="tooltip" data-bs-placement="top" title="Refresh">Image & Title</i>
      </button>
    </div>
    <!-- end submit -->

    <!-- how it works steps -->
    <div class="row align-items-center mb-4">
      {% for how_it_works_step in how_it_works_steps %}
      <form action="{% url 'content-manager' 'delete_how_it_works_step' %}" id="delete_how_it_works_step_form_{{ how_it_works_step.id }}" method="post">
        {% csrf_token %}
        <input type="hidden" name="how_it_works_step_id" value={{how_it_works_step.id}}>
      </form>

        <form action="{% url 'content-manager' 'edit_how_it_works_step' %}" class="js-validate need-validate" novalidate method="post" enctype="multipart/form-data">
          {% csrf_token %}
          <input type="hidden" name="how_it_works_step_id" value={{how_it_works_step.id}}>
          <div class="row mb-2">

            <div class="col-sm text-center align-self-center">
              <!-- input image -->
              <label class="avatar avatar-xxl avatar-uploader" for="how_it_works_image_step_edit_{{how_it_works_step.id}}" style="height: 100%;width: 100%;">
                <img id="how_it_works_image_step_{{how_it_works_step.id}}" class="avatar-img" src="{% get_media_prefix %}{{ how_it_works_step.image }}" alt="Image Description" style="width: 20%;" data-bs-toggle="tooltip" data-bs-placement="top" title="Click to choose new image and don't forget to refresh">
                <input type="file" class="js-file-attach avatar-uploader-input" name="how_it_works_step_image" id="how_it_works_image_step_edit_{{how_it_works_step.id}}" data-hs-file-attach-options='{
                                  "textTarget": "#how_it_works_image_step_{{how_it_works_step.id}}",
                                  "mode": "image",
                                  "targetAttr": "src",
                                  "allowTypes": [".png", ".jpeg", ".jpg"]
                                  }'>
              </label>
              <!-- end input image -->
            </div>
            <div class="col-sm text-center">
              <div class="input-group input-group-borderless mb-2">
                <input type="text" class="form-control" name="how_it_works_step_title" value="{{ how_it_works_step.title }}">
              </div>
              <div class="input-group input-group-borderless mb-2">
                <input type="text" class="form-control" name="how_it_works_step_content" value="{{ how_it_works_step.content }}">
              </div>
            </div>

            <div class="col-sm-auto align-self-center">
              <button class="btn btn-white form-control-lg" form="delete_how_it_works_step_form_{{ how_it_works_step.id }}">
                <i class="bi bi-trash" data-bs-toggle="tooltip" data-bs-placement="top" title="Delete"></i>
              </button>
              <button class="btn btn-white form-control-lg" type="submit">
                <i class="bi bi-arrow-clockwise" data-bs-toggle="tooltip" data-bs-placement="top" title="Refresh"></i>
              </button>
            </div>

          </div>

        </form>
      {% endfor %}
      <div class="row mt-8">
        <div class="col-sm mb-2 mb-sm-0">
          <form action="{% url 'content-manager' 'create_how_it_works_step' %}" id="add_how_it_works_step_form" class="js-validate need-validate" novalidate method="post" enctype="multipart/form-data">
            {% csrf_token %}
            <div class="row mb-2">
              <div class="col-sm text-center align-self-center">
                <!-- input image -->
                <label class="avatar avatar-xxl avatar-uploader" for="editAvatarUploaderModal_how_it_works_image_step_add" style="height: 100%;width: 100%;">
                  <img id="editAvatarImgModal_how_it_works_image_step_add" class="avatar-img" src="{% static 'landing_page/tovana_img/img_download.png' %}" alt="Image Description" style="width: 20%;" data-bs-toggle="tooltip" data-bs-placement="top" title="Click to choose new image and don't forget to refresh">

                  <input type="file" class="js-file-attach avatar-uploader-input" name="how_it_works_step_image" id="editAvatarUploaderModal_how_it_works_image_step_add" data-hs-file-attach-options='{
                              "textTarget": "#editAvatarImgModal_how_it_works_image_step_add",
                              "mode": "image",
                              "targetAttr": "src",
                              "allowTypes": [".png", ".jpeg", ".jpg"]
                           }' required>
                  <span class="invalid-feedback text-center">Please upload an image.</span>
                </label>
                <!-- end input image -->
              </div>
              <div class="col-sm text-center">
                <div class="input-group mb-2">
                  <input type="text" class="form-control" name="how_it_works_step_title" placeholder="how it works step title" required>
                  <span class="invalid-feedback text-start">Title required.</span>
                </div>

                <div class="input-group mb-2">
                  <input type="text" class="form-control" name="how_it_works_step_content" placeholder="how it works step content" required>
                  <span class="invalid-feedback text-start">Field required.</span>
                </div>
              </div>
            </div>
          </form>
        </div>
        <div class="col-sm-auto align-self-center">
          <button form="add_how_it_works_step_form" class="btn btn-white form-control-sm">
            <i class="bi bi-plus-lg" data-bs-toggle="tooltip" data-bs-placement="top" title="Add"></i>
          </button>
        </div>
      </div>
    </div>
    <!-- end how it works steps -->

    <!-- edit how it works content modal -->
    <div id="edit_how_it_works_content_modal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="edit_how_it_works_content_modal_title" aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="edit_how_it_works_content_modal_title"></h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body text-center">
            <p>Editing title & image click yes to confirm.</p>
          </div>
          <div class="modal-footer" style="align-self: center;">
            <button type="button" class="btn btn-white" data-bs-dismiss="modal">Close</button>
            <button class="btn btn-primary" form="edit_how_it_works_content_form">Yes</button>
          </div>
        </div>
      </div>
    </div>
    <!-- end edit how it works content modal -->
  </div>

  <div class="tab-pane fade {% if tab == 'home_page_FAQ' %} show active {% endif %}" id="home_page_FAQ_tab" role="tabpanel" aria-labelledby="home_page_FAQ_nav">
    <div class="container content-space-b-2 position-relative">
      <!-- questions table -->
      <div class="table-responsive-xxl datatable-custom">
        <table class="table table-borderless table-thead-bordered table-nowrap table-align-middle card-table">
          <tbody>

          {% for home_page_question in home_page_questions %}
          <!-- delete question form -->
          <form action="{% url 'content-manager' 'delete_home_page_question' %}" id="delete_home_page_question_form_{{ home_page_question.id }}" method="post">
            {% csrf_token %}
            <input type="hidden" name="home_page_question_id" value='{{ home_page_question.id }}'>
          </form>
          <!-- end delete question form -->

          <!-- questions -->
          <tr>
            <td>
              <!-- edit home page question form -->
              <form action="{% url 'content-manager' 'edit_home_page_question' %}" id="edit_home_page_question_form_{{ home_page_question.id }}" method="post">
                {% csrf_token %}
                <input type="hidden" name="home_page_question_id" value='{{ home_page_question.id }}'>

                <div class="input-group-borderless">
                  <input type="text" class="form-control" name="home_page_question_content" value="{{ home_page_question.content }}">
                </div>
              </form>
              <!-- end edit home page question form -->
            </td>
            <td>
              <button class="btn btn-white btn-icon" form="edit_home_page_question_form_{{ home_page_question.id }}">
                <i class="bi-arrow-clockwise" data-bs-toggle="tooltip" data-bs-placement="top" title="Refresh"></i>
              </button>
              <button type="button" class="btn btn-white btn-icon" data-bs-toggle="modal" data-bs-target="#delete_home_page_question_modal_{{ home_page_question.id }}">
                <i class="bi-trash" data-bs-toggle="tooltip" data-bs-placement="top" title="Delete"></i>
              </button>
            </td>
          </tr>
          <!-- end questions -->
          {% for home_page_answer in home_page_question.answer.all %}
          <!-- delete answer form -->
          <form action="{% url 'content-manager' 'delete_home_page_answer' %}" id="delete_home_page_answer_form_{{ home_page_question.id }}_{{ home_page_answer.id }}" method="post">
            {% csrf_token %}
            <input type="hidden" name="home_page_answer_id" value='{{ home_page_answer.id }}'>
          </form>
          <!-- end delete answer form -->

          <!-- answers -->
          <tr class="table-light">
            <td>
              <!-- edit home page answer form -->
              <form action="{% url 'content-manager' 'edit_home_page_answer' %}" id="edit_home_page_answer_form_{{ home_page_question.id }}_{{ home_page_answer.id }}" method="post">
                {% csrf_token %}
                <input type="hidden" name="home_page_question_id" value='{{ home_page_question.id }}'>
                <input type="hidden" name="home_page_answer_id" value='{{ home_page_answer.id }}'>

                <div class="input-group input-group-borderless">
                  <input type="text" class="form-control" name="add_home_page_answer_title" value="{{home_page_answer.title}}">
                  <input type="text" class="form-control" name="add_home_page_answer_content" value="{{home_page_answer.content}}" style="width: 80%;">
                </div>
              </form>
              <!-- end edit home page answer form -->
            </td>
            <td>
              <button class="btn btn-white btn-icon" form="edit_home_page_answer_form_{{ home_page_question.id }}_{{ home_page_answer.id }}">
                <i class="bi-arrow-clockwise" data-bs-toggle="tooltip" data-bs-placement="top" title="Refresh"></i>
              </button>
              <button type="button" class="btn btn-white btn-icon" data-bs-toggle="modal" data-bs-target="#delete_home_page_answer_modal_{{ home_page_question.id }}_{{ home_page_answer.id }}">
                <i class="bi-trash" data-bs-toggle="tooltip" data-bs-placement="top" title="Delete"></i>
              </button>
            </td>
          </tr>
          <!-- end answers -->

          <!-- delete home page answer modal -->
          <div id="delete_home_page_answer_modal_{{ home_page_question.id }}_{{ home_page_answer.id }}" class="modal fade" tabindex="-1" role="dialog" aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered" role="document">
              <div class="modal-content">
                <div class="modal-header">
                  <h5 class="modal-title"></h5>
                  <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body text-center">
                  <p>you want to delete this answer ({{ home_page_answer.content }}) ?.</p>
                </div>
                <div class="modal-footer" style="align-self: center;">
                  <button type="button" class="btn btn-white" data-bs-dismiss="modal">Close</button>
                  <button class="btn btn-primary" form="delete_home_page_answer_form_{{ home_page_question.id }}_{{ home_page_answer.id }}">Yes</button>
                </div>
              </div>
            </div>
          </div>
          <!-- end delete home page answer modal -->
          {% endfor %}

          <!-- add answer -->
          <tr class="table-light">
            <td>
              <!-- add new home page answer form -->
              <form action="{% url 'content-manager' 'add_home_page_answer' %}" id="add_home_page_answer_form_{{ home_page_question.id }}" class="js-validate need-validate" novalidate method="post">
                {% csrf_token %}
                <input type="hidden" name="home_page_question_id" value='{{ home_page_question.id }}'>

                <div class="input-group input-group-md-vertical">
                  <input type="text" class="form-control" name="add_home_page_answer_title" placeholder="Prefix">
                  <input type="text" class="form-control" name="add_home_page_answer_content" placeholder="Add new answer" style="width: 80%;" required>
                  <span class="invalid-feedback text-center">Answer field is required</span>
                </div>
              </form>
              <!-- end add new home page answer form -->
            </td>
            <td style="vertical-align: baseline;">
              <button class="btn btn-white btn-icon" form="add_home_page_answer_form_{{ home_page_question.id }}">
                <i class="bi-plus-lg" data-bs-toggle="tooltip" data-bs-placement="top" title="Add"></i>
              </button>
            </td>
          </tr>
          <!-- end add answer -->

          <!-- delete home page question modal -->
          <div id="delete_home_page_question_modal_{{ home_page_question.id }}" class="modal fade" tabindex="-1" role="dialog" aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered" role="document">
              <div class="modal-content">
                <div class="modal-header">
                  <h5 class="modal-title"></h5>
                  <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body text-center">
                  <p>you want to delete this question ({{ home_page_question.content }}) ?.</p>
                </div>
                <div class="modal-footer" style="align-self: center;">
                  <button type="button" class="btn btn-white" data-bs-dismiss="modal">Close</button>
                  <button class="btn btn-primary" form="delete_home_page_question_form_{{ home_page_question.id }}">Yes</button>
                </div>
              </div>
            </div>
          </div>
          <!-- end delete home page question modal -->

          <!-- separator -->
          <tr class="table-dark">
            <td>
            </td>
            <td>
            </td>
          </tr>
          <!-- end separator -->
          {% endfor %}
          <!-- add new question -->
          <tr>
            <td>
              <!-- add new home page question form -->
              <form action="{% url 'content-manager' 'add_home_page_question' %}" id="add_home_page_question_form" class="js-validate need-validate" novalidate method="post">
                {% csrf_token %}
                <div class="input-group">
                  <input type="text" class="form-control" name="home_page_question_content" placeholder="Add new question" required>
                  <span class="invalid-feedback text-start">Please this field is required.</span>
                </div>
              </form>
              <!-- end add new home page question form -->
            </td>
            <td style="vertical-align: baseline;">
              <button class="btn btn-white btn-icon" form="add_home_page_question_form">
                <i class="bi-plus-lg" data-bs-toggle="tooltip" data-bs-placement="top" title="Add"></i>
              </button>
            </td>
          </tr>
          <!-- end add new question -->
          </tbody>
        </table>
      </div>
      <!-- end questions table -->
    </div>
  </div>
</div>

<!-- create new slide modal -->
<div id="create_new_slide" class="modal fade bd-example-modal-xl" tabindex="-1" role="dialog" aria-labelledby="create_new_slide" aria-hidden="true">
  <div class="modal-dialog modal-xl" role="document">
    <div class="modal-content">
    <!-- Header -->
    <div class="modal-close">
      <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
    </div>
    <!-- End Header -->

    <!-- Body -->
    <div class="modal-body">
      <div>
        <!-- title -->
        <div class="text-center mb-7">
          <h2>Create a new slide</h2>
        </div>
        <!-- end title -->
        <form action="{% url 'content-manager' 'create_slide' %}" class="js-validate need-validate" novalidate method="post" enctype="multipart/form-data">
          {% csrf_token %}
          <div class="row col-sm-divider mb-8">
            <div class="col-sm text-end">
              <!-- title -->
              <div class="input-group mb-2">
                <span class="input-group-text" id="title">Title</span>
                <input type="text" class="form-control" aria-label="title" aria-describedby="title" name="{{ slide_form.title.name }}" placeholder="{{ slide_form.title.label }}" required>
                <span class="invalid-feedback text-start">Please enter a valid title.</span>
              </div>
              <!-- end title -->

              <!-- content -->
              <div class="input-group mb-2">
                <span class="input-group-text" id="content">Content</span>
                <textarea class="form-control" name="{{ slide_form.content.name }}" placeholder="{{ slide_form.content.label }}" rows="4" required></textarea>
                <span class="invalid-feedback text-start">Please enter the slide content.</span>
              </div>
              <!-- end content -->
            </div>

            <div class="col-sm text-center">
              <!-- input image -->
              <label class="avatar avatar-xxl avatar-uploader" for="editAvatarUploaderModal" style="height: 100%;width: 100%;">
                <img id="editAvatarImgModal" class="avatar-img" src="{% static 'landing_page/tovana_img/img_download.png' %}" alt="Image Description" style="width: 60%;">

                <input type="file" class="js-file-attach avatar-uploader-input" name="{{ slide_form.image.name }}" id="editAvatarUploaderModal" data-hs-file-attach-options='{
                            "textTarget": "#editAvatarImgModal",
                            "mode": "image",
                            "targetAttr": "src",
                            "allowTypes": [".png", ".jpeg", ".jpg"]
                         }' required>
                <span class="invalid-feedback">Please enter an image.</span>
              </label>
              <!-- end input image -->
            </div>
          </div>
          <!-- submit -->
          <div class="text-center mb-2">
            <span class="text-muted ">For better visuals, photos must be without background.</span>
          </div>
          <div class="d-grid mb-4">
            <button type="submit" class="btn btn-primary form-control-lg">Confirm</button>
          </div>
          <!-- end submit -->
        </form>
      </div>
    </div>
    <!-- End Body -->
    </div>
  </div>
</div>
<!-- end create new slide modal -->
{% endblock %}
